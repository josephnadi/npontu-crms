import{o as d,M as u,b as t,u as v,T as P,a as e,k as B,m as h,h as l,N as g,i as m,U as o,f as n,R as i,v as y,n as w,ae as _,p as C,a2 as S,af as I,ag as T,ah as U,ai as A,c as W,a4 as E,S as N,W as F,Y as R,r as V,a8 as k}from"./app-CqcLQhWc.js";import{_ as $}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-SEMuvBU0.js";import"./LoaderWrapper-CNYIpUw8.js";import"./LogoMain.vue_vue_type_script_setup_true_lang-BnGuLdGC.js";import"./useApi-o-nPpLEi-7nyp_4n4.js";const j={class:"d-flex align-center"},M={class:"text-h3 font-weight-bold"},G={class:"d-flex align-center text-subtitle-1 text-medium-emphasis"},H={class:"d-flex gap-2"},O={class:"mb-4"},Y={class:"text-body-2"},q={class:"mb-4"},J={class:"text-body-2"},K={class:"mb-4"},Q=["href"],X={key:1,class:"text-body-2"},Z={class:"mb-4"},tt={class:"text-body-2"},et={class:"mb-4"},at={class:"d-flex align-center"},lt={class:"text-caption text-white"},st={class:"text-body-2"},nt={class:"text-body-2",style:{"white-space":"pre-wrap"}},it={class:"text-right"},rt={key:1,class:"text-center py-8 text-medium-emphasis"},ft={__name:"Show",props:{partner:Object},setup(s){const c=s,f=V("details"),p=V(!1),x=V(!1),D=()=>{confirm(`Convert ${c.partner.name} to a Lead?`)&&(p.value=!0,k.post(route("crm.partners.convert-to-lead",c.partner.id),{},{onFinish:()=>p.value=!1}))},z=()=>{confirm(`Create a support ticket for ${c.partner.name}?`)&&(x.value=!0,k.post(route("crm.partners.convert-to-ticket",c.partner.id),{},{onFinish:()=>x.value=!1}))},L=()=>{confirm("Are you sure you want to delete this partner?")&&k.delete(route("crm.partners.destroy",c.partner.id))};return(b,a)=>(d(),u(N,null,[t(v(P),{title:"Partner Details - "+s.partner.name},null,8,["title"]),t($,null,{default:e(()=>[t(B,null,{default:e(()=>[t(h,{cols:"12",class:"d-flex justify-space-between align-center mb-4"},{default:e(()=>[l("div",j,[t(v(g),{href:b.route("crm.partners.index"),class:"mr-4"},{default:e(()=>[t(m,{icon:"",variant:"text"},{default:e(()=>[t(o,null,{default:e(()=>[...a[2]||(a[2]=[n("mdi-arrow-left",-1)])]),_:1})]),_:1})]),_:1},8,["href"]),l("div",null,[l("h2",M,i(s.partner.name),1),l("div",G,[t(o,{size:"small",class:"mr-1"},{default:e(()=>[...a[3]||(a[3]=[n("mdi-handshake-outline",-1)])]),_:1}),n(" "+i(s.partner.type)+" ",1),t(y,{vertical:"",class:"mx-3"}),t(o,{size:"small",class:"mr-1",color:s.partner.status==="Active"?"success":"warning"},{default:e(()=>[...a[4]||(a[4]=[n("mdi-circle-medium",-1)])]),_:1},8,["color"]),n(" "+i(s.partner.status),1)])])]),l("div",H,[t(m,{variant:"outlined",color:"warning",onClick:D,loading:p.value,title:"Convert to Lead"},{default:e(()=>[t(o,null,{default:e(()=>[...a[5]||(a[5]=[n("mdi-account-convert-outline",-1)])]),_:1})]),_:1},8,["loading"]),t(m,{variant:"outlined",color:"info",onClick:z,loading:x.value,title:"Convert to Ticket"},{default:e(()=>[t(o,null,{default:e(()=>[...a[6]||(a[6]=[n("mdi-ticket-outline",-1)])]),_:1})]),_:1},8,["loading"]),t(v(g),{href:b.route("crm.partners.edit",s.partner.id)},{default:e(()=>[t(m,{variant:"outlined",color:"primary",title:"Edit Partner"},{default:e(()=>[t(o,null,{default:e(()=>[...a[7]||(a[7]=[n("mdi-pencil",-1)])]),_:1})]),_:1})]),_:1},8,["href"]),t(m,{variant:"outlined",color:"error",onClick:L,title:"Delete Partner"},{default:e(()=>[t(o,null,{default:e(()=>[...a[8]||(a[8]=[n("mdi-delete",-1)])]),_:1})]),_:1})])]),_:1}),t(h,{cols:"12",md:"4"},{default:e(()=>[t(w,{elevation:"0",border:"",class:"mb-6"},{default:e(()=>[t(_,{title:"Partner Information"}),t(y),t(C,{class:"pa-4"},{default:e(()=>[l("div",O,[a[9]||(a[9]=l("div",{class:"text-caption text-medium-emphasis mb-1"},"Email",-1)),l("div",Y,i(s.partner.email||"N/A"),1)]),l("div",q,[a[10]||(a[10]=l("div",{class:"text-caption text-medium-emphasis mb-1"},"Phone",-1)),l("div",J,i(s.partner.phone||"N/A"),1)]),l("div",K,[a[12]||(a[12]=l("div",{class:"text-caption text-medium-emphasis mb-1"},"Website",-1)),s.partner.website?(d(),u("a",{key:0,href:s.partner.website,target:"_blank",class:"text-body-2 text-primary text-decoration-none d-flex align-center"},[n(i(s.partner.website)+" ",1),t(o,{size:"x-small",class:"ml-1"},{default:e(()=>[...a[11]||(a[11]=[n("mdi-open-in-new",-1)])]),_:1})],8,Q)):(d(),u("span",X,"N/A"))]),l("div",Z,[a[13]||(a[13]=l("div",{class:"text-caption text-medium-emphasis mb-1"},"Commission Rate",-1)),l("div",tt,i(s.partner.commission_rate)+"%",1)]),l("div",et,[a[14]||(a[14]=l("div",{class:"text-caption text-medium-emphasis mb-1"},"Account Manager",-1)),l("div",at,[t(S,{size:"24",color:"primary",class:"mr-2"},{default:e(()=>[l("span",lt,i(s.partner.account_manager?.name.charAt(0)),1)]),_:1}),l("span",st,i(s.partner.account_manager?.name),1)])])]),_:1})]),_:1})]),_:1}),t(h,{cols:"12",md:"8"},{default:e(()=>[t(I,{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=r=>f.value=r),color:"primary"},{default:e(()=>[t(T,{value:"details"},{default:e(()=>[...a[15]||(a[15]=[n("Details",-1)])]),_:1}),t(T,{value:"deals"},{default:e(()=>[n("Deals ("+i(s.partner.deals?.length||0)+")",1)]),_:1})]),_:1},8,["modelValue"]),t(U,{modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=r=>f.value=r),class:"mt-4"},{default:e(()=>[t(A,{value:"details"},{default:e(()=>[t(w,{elevation:"0",border:""},{default:e(()=>[t(_,{title:"Description"}),t(y),t(C,{class:"pa-4"},{default:e(()=>[l("p",nt,i(s.partner.description||"No description available for this partner."),1)]),_:1})]),_:1})]),_:1}),t(A,{value:"deals"},{default:e(()=>[t(w,{elevation:"0",border:""},{default:e(()=>[s.partner.deals?.length>0?(d(),W(E,{key:0},{default:e(()=>[a[16]||(a[16]=l("thead",null,[l("tr",null,[l("th",{class:"text-left font-weight-bold"},"Title"),l("th",{class:"text-left font-weight-bold"},"Value"),l("th",{class:"text-left font-weight-bold"},"Stage"),l("th",{class:"text-right font-weight-bold"},"Action")])],-1)),l("tbody",null,[(d(!0),u(N,null,F(s.partner.deals,r=>(d(),u("tr",{key:r.id},[l("td",null,i(r.title),1),l("td",null,"GHâ‚µ "+i(r.value?.toLocaleString()),1),l("td",null,[t(R,{size:"x-small",color:"primary",variant:"tonal"},{default:e(()=>[n(i(r.stage?.name||"Unknown"),1)]),_:2},1024)]),l("td",it,[t(v(g),{href:b.route("crm.deals.show",r.id)},{default:e(()=>[t(m,{icon:"mdi-eye",variant:"text",size:"small",title:"View Deal"})]),_:1},8,["href"])])]))),128))])]),_:1})):(d(),u("div",rt," No deals associated with this partner. "))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})],64))}};export{ft as default};
