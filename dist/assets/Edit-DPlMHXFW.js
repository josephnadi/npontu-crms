import{L as y,o as w,M as C,b as e,u as a,T as U,a as r,l as x,k as V,m as d,n as k,p as g,i as m,h as c,R as S,v as f,V as P,w as T,g as n,a1 as $,$ as u,ac as D,ad as B,f as v,S as E}from"./app-CqcLQhWc.js";import{_ as F}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-SEMuvBU0.js";import"./LoaderWrapper-CNYIpUw8.js";import"./LogoMain.vue_vue_type_script_setup_true_lang-BnGuLdGC.js";import"./useApi-o-nPpLEi-7nyp_4n4.js";const N={class:"text-h5 mb-0"},H={__name:"Edit",props:{project:Object,clients:Array,deals:Array},setup(i){const o=i,t=y({name:o.project.name,description:o.project.description,status:o.project.status,priority:o.project.priority||"medium",start_date:o.project.start_date?o.project.start_date.split("T")[0]:"",end_date:o.project.end_date?o.project.end_date.split("T")[0]:"",budget:o.project.budget,client_id:o.project.client_id,deal_id:o.project.deal_id}),b=[{title:"Low",value:"low"},{title:"Medium",value:"medium"},{title:"High",value:"high"},{title:"Urgent",value:"urgent"}],_=[{title:"Pending",value:"pending"},{title:"In Progress",value:"in_progress"},{title:"Completed",value:"completed"},{title:"Cancelled",value:"cancelled"}],j=()=>{t.put(route("crm.projects.update",o.project.id))};return(p,l)=>(w(),C(E,null,[e(a(U),{title:"Edit Project"}),e(F,null,{default:r(()=>[e(x,{fluid:""},{default:r(()=>[e(V,{justify:"center"},{default:r(()=>[e(d,{cols:"12",md:"8"},{default:r(()=>[e(k,{elevation:"0"},{default:r(()=>[e(g,{class:"d-flex align-center py-4"},{default:r(()=>[e(m,{icon:"mdi-arrow-left",variant:"text",class:"mr-2",onClick:l[0]||(l[0]=s=>p.$window.history.back())}),c("div",null,[c("h1",N,"Edit Project: "+S(i.project.name),1)])]),_:1}),e(f),e(P,{onSubmit:T(j,["prevent"])},{default:r(()=>[e(g,{class:"pa-6"},{default:r(()=>[e(V,null,{default:r(()=>[e(d,{cols:"12"},{default:r(()=>[e(n,{modelValue:a(t).name,"onUpdate:modelValue":l[1]||(l[1]=s=>a(t).name=s),label:"Project Name",variant:"outlined","error-messages":a(t).errors.name,required:""},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12"},{default:r(()=>[e($,{modelValue:a(t).description,"onUpdate:modelValue":l[2]||(l[2]=s=>a(t).description=s),label:"Description",variant:"outlined",rows:"3","error-messages":a(t).errors.description},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",sm:"6"},{default:r(()=>[e(u,{modelValue:a(t).status,"onUpdate:modelValue":l[3]||(l[3]=s=>a(t).status=s),items:_,label:"Status",variant:"outlined","error-messages":a(t).errors.status,required:""},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",sm:"6"},{default:r(()=>[e(u,{modelValue:a(t).priority,"onUpdate:modelValue":l[4]||(l[4]=s=>a(t).priority=s),items:b,label:"Priority",variant:"outlined","error-messages":a(t).errors.priority,required:""},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",sm:"6"},{default:r(()=>[e(u,{modelValue:a(t).client_id,"onUpdate:modelValue":l[5]||(l[5]=s=>a(t).client_id=s),items:i.clients,"item-title":"name","item-value":"id",label:"Client",variant:"outlined",clearable:"","error-messages":a(t).errors.client_id},null,8,["modelValue","items","error-messages"])]),_:1}),e(d,{cols:"12",sm:"6"},{default:r(()=>[e(u,{modelValue:a(t).deal_id,"onUpdate:modelValue":l[6]||(l[6]=s=>a(t).deal_id=s),items:i.deals,"item-title":"title","item-value":"id",label:"Source Deal",variant:"outlined",clearable:"","error-messages":a(t).errors.deal_id,"prepend-inner-icon":"mdi-handshake-outline"},null,8,["modelValue","items","error-messages"])]),_:1}),e(d,{cols:"12",sm:"6"},{default:r(()=>[e(n,{modelValue:a(t).start_date,"onUpdate:modelValue":l[7]||(l[7]=s=>a(t).start_date=s),label:"Start Date",type:"date",variant:"outlined","error-messages":a(t).errors.start_date},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",sm:"6"},{default:r(()=>[e(n,{modelValue:a(t).end_date,"onUpdate:modelValue":l[8]||(l[8]=s=>a(t).end_date=s),label:"End Date",type:"date",variant:"outlined","error-messages":a(t).errors.end_date},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12"},{default:r(()=>[e(n,{modelValue:a(t).budget,"onUpdate:modelValue":l[9]||(l[9]=s=>a(t).budget=s),label:"Budget",type:"number",prefix:"$",variant:"outlined","error-messages":a(t).errors.budget},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1}),e(f),e(D,{class:"pa-6"},{default:r(()=>[e(B),e(m,{variant:"text",onClick:l[10]||(l[10]=s=>p.$window.history.back()),class:"mr-2"},{default:r(()=>[...l[11]||(l[11]=[v(" Cancel ",-1)])]),_:1}),e(m,{color:"primary",type:"submit",loading:a(t).processing},{default:r(()=>[...l[12]||(l[12]=[v(" Update Project ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64))}};export{H as default};
