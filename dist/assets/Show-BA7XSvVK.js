import{o,N as r,b as t,v as u,U,a as e,l as W,n as N,h as i,O as x,j as c,W as y,f as n,S as d,x as g,p as v,aa as V,q as h,P as w,a5 as D,ab as M,ac as z,ad as O,ae as T,a4 as L,T as $,X as I,a6 as S,s as _,t as k,a7 as C,$ as A,a8 as j,c as B,Z as P,af as F,ag as q,r as E}from"./app-CajJQkEm.js";import{_ as G}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-CUimra8q.js";import{A as H,_ as J}from"./ActivityForm-z_B-xygN.js";import"./LoaderWrapper-CM7phn5N.js";import"./LogoMain.vue_vue_type_script_setup_true_lang-CbPhcYUv.js";const R={class:"d-flex align-center"},X={class:"text-h3 font-weight-bold"},Z={class:"d-flex align-center text-subtitle-1 text-medium-emphasis"},K={class:"d-flex gap-2"},Q={class:"mb-4"},Y=["href"],tt={key:1,class:"text-body-2"},et={class:"mb-4"},lt={class:"text-body-2"},it={class:"mb-4"},at={class:"text-body-2"},st={key:0},nt={key:1},dt={key:2},ot={key:3},rt={class:"mb-4"},ut={class:"d-flex align-center"},mt={class:"text-caption text-white"},ct={class:"text-body-2"},ft={class:"text-body-2",style:{"white-space":"pre-wrap"}},vt={class:"d-flex align-center py-2"},bt={class:"text-caption font-weight-bold"},xt={class:"text-right"},yt={key:0},gt={class:"text-right"},Ct={__name:"Show",props:{client:Object},setup(a){const p=E("contacts"),b=E(!1);return(m,l)=>(o(),r($,null,[t(u(U),{title:"Client Details - "+a.client.name},null,8,["title"]),t(G,null,{default:e(()=>[t(W,null,{default:e(()=>[t(N,{cols:"12",class:"d-flex justify-space-between align-center mb-4"},{default:e(()=>[i("div",R,[t(u(x),{href:m.route("crm.clients.index"),class:"mr-4"},{default:e(()=>[t(c,{icon:"",variant:"text"},{default:e(()=>[t(y,null,{default:e(()=>[...l[6]||(l[6]=[n("mdi-arrow-left",-1)])]),_:1})]),_:1})]),_:1},8,["href"]),i("div",null,[i("h2",X,d(a.client.name),1),i("div",Z,[t(y,{size:"small",class:"mr-1"},{default:e(()=>[...l[7]||(l[7]=[n("mdi-factory",-1)])]),_:1}),n(" "+d(a.client.industry||"No Industry")+" ",1),t(g,{vertical:"",class:"mx-3"}),t(y,{size:"small",class:"mr-1"},{default:e(()=>[...l[8]||(l[8]=[n("mdi-map-marker",-1)])]),_:1}),n(" "+d(a.client.city||"No Location"),1)])])]),i("div",K,[t(u(x),{href:m.route("crm.clients.edit",a.client.id)},{default:e(()=>[t(c,{variant:"outlined",color:"primary","prepend-icon":"mdi-pencil"},{default:e(()=>[...l[9]||(l[9]=[n("Edit Client",-1)])]),_:1})]),_:1},8,["href"])])]),_:1}),t(N,{cols:"12",md:"4"},{default:e(()=>[t(v,{elevation:"0",border:"",class:"mb-6"},{default:e(()=>[t(V,{title:"Client Information"}),t(g),t(h,{class:"pa-4"},{default:e(()=>[i("div",Q,[l[11]||(l[11]=i("div",{class:"text-caption text-medium-emphasis mb-1"},"Website",-1)),a.client.website?(o(),r("a",{key:0,href:a.client.website,target:"_blank",class:"text-body-2 text-primary text-decoration-none d-flex align-center"},[n(d(a.client.website)+" ",1),t(y,{size:"x-small",class:"ml-1"},{default:e(()=>[...l[10]||(l[10]=[n("mdi-open-in-new",-1)])]),_:1})],8,Y)):(o(),r("span",tt,"N/A"))]),i("div",et,[l[12]||(l[12]=i("div",{class:"text-caption text-medium-emphasis mb-1"},"Phone",-1)),i("div",lt,d(a.client.phone||"N/A"),1)]),i("div",it,[l[13]||(l[13]=i("div",{class:"text-caption text-medium-emphasis mb-1"},"Full Address",-1)),i("div",at,[n(d(a.client.address),1),a.client.address?(o(),r("br",st)):w("",!0),n(" "+d(a.client.city),1),a.client.state?(o(),r("span",nt,", "+d(a.client.state),1)):w("",!0),n(" "+d(a.client.postal_code),1),a.client.city?(o(),r("br",dt)):w("",!0),n(" "+d(a.client.country)+" ",1),!a.client.address&&!a.client.city?(o(),r("span",ot,"N/A")):w("",!0)])]),i("div",rt,[l[14]||(l[14]=i("div",{class:"text-caption text-medium-emphasis mb-1"},"Owner",-1)),i("div",ut,[t(D,{size:"24",color:"primary",class:"mr-2"},{default:e(()=>[i("span",mt,d(a.client.owner?.name.charAt(0)),1)]),_:1}),i("span",ct,d(a.client.owner?.name),1)])])]),_:1})]),_:1}),t(v,{elevation:"0",border:""},{default:e(()=>[t(V,{title:"Notes"}),t(g),t(h,{class:"pa-4"},{default:e(()=>[i("p",ft,d(a.client.notes||"No notes available for this client."),1)]),_:1})]),_:1})]),_:1}),t(N,{cols:"12",md:"8"},{default:e(()=>[t(M,{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=s=>p.value=s),color:"primary"},{default:e(()=>[t(z,{value:"contacts"},{default:e(()=>[n("Contacts ("+d(a.client.contacts?.length||0)+")",1)]),_:1}),t(z,{value:"deals"},{default:e(()=>[n("Deals ("+d(a.client.deals?.length||0)+")",1)]),_:1}),t(z,{value:"activities"},{default:e(()=>[...l[15]||(l[15]=[n("Activities",-1)])]),_:1})]),_:1},8,["modelValue"]),t(O,{modelValue:p.value,"onUpdate:modelValue":l[2]||(l[2]=s=>p.value=s),class:"mt-4"},{default:e(()=>[t(T,{value:"contacts"},{default:e(()=>[t(v,{elevation:"0",border:""},{default:e(()=>[t(V,{title:"Associated Contacts"},{append:e(()=>[t(u(x),{href:m.route("crm.contacts.create",{client_id:a.client.id})},{default:e(()=>[t(c,{color:"primary",size:"small",variant:"text","prepend-icon":"mdi-plus"},{default:e(()=>[...l[16]||(l[16]=[n("Add Contact",-1)])]),_:1})]),_:1},8,["href"])]),_:1}),t(g),t(L,null,{default:e(()=>[l[20]||(l[20]=i("thead",null,[i("tr",null,[i("th",{class:"text-left font-weight-bold"},"Name"),i("th",{class:"text-left font-weight-bold"},"Email"),i("th",{class:"text-left font-weight-bold"},"Job Title"),i("th",{class:"text-right font-weight-bold"},"Actions")])],-1)),i("tbody",null,[(o(!0),r($,null,I(a.client.contacts,s=>(o(),r("tr",{key:s.id},[i("td",null,[i("div",vt,[t(D,{color:"grey-lighten-3",size:"32",class:"mr-3"},{default:e(()=>[i("span",bt,d(s.first_name.charAt(0))+d(s.last_name.charAt(0)),1)]),_:2},1024),t(u(x),{href:m.route("crm.contacts.show",s.id),class:"text-decoration-none font-weight-bold text-primary"},{default:e(()=>[n(d(s.first_name)+" "+d(s.last_name),1)]),_:2},1032,["href"])])]),i("td",null,d(s.email||"N/A"),1),i("td",null,d(s.job_title||"N/A"),1),i("td",xt,[t(S,null,{activator:e(({props:f})=>[t(c,j({icon:"mdi-dots-vertical",variant:"text",size:"small"},{ref_for:!0},f),null,16)]),default:e(()=>[t(_,{size:"small"},{default:e(()=>[t(k,{onClick:f=>u(C).get(m.route("crm.contacts.show",s.id)),"prepend-icon":"mdi-eye"},{default:e(()=>[t(A,null,{default:e(()=>[...l[17]||(l[17]=[n("View Details",-1)])]),_:1})]),_:1},8,["onClick"]),t(k,{onClick:f=>u(C).get(m.route("crm.contacts.edit",s.id)),"prepend-icon":"mdi-pencil"},{default:e(()=>[t(A,null,{default:e(()=>[...l[18]||(l[18]=[n("Edit",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)])]))),128)),a.client.contacts.length===0?(o(),r("tr",yt,[...l[19]||(l[19]=[i("td",{colspan:"4",class:"text-center py-8 text-medium-emphasis"}," No contacts found for this client. ",-1)])])):w("",!0)])]),_:1})]),_:1})]),_:1}),t(T,{value:"deals"},{default:e(()=>[t(v,{elevation:"0",border:""},{default:e(()=>[a.client.deals?.length>0?(o(),B(L,{key:0},{default:e(()=>[l[23]||(l[23]=i("thead",null,[i("tr",null,[i("th",{class:"text-left font-weight-bold"},"Title"),i("th",{class:"text-left font-weight-bold"},"Value"),i("th",{class:"text-left font-weight-bold"},"Stage"),i("th",{class:"text-right font-weight-bold"},"Action")])],-1)),i("tbody",null,[(o(!0),r($,null,I(a.client.deals,s=>(o(),r("tr",{key:s.id},[i("td",null,d(s.title),1),i("td",null,"GHâ‚µ "+d(s.value.toLocaleString()),1),i("td",null,[t(P,{size:"x-small",color:"primary",variant:"tonal"},{default:e(()=>[n(d(s.stage?.name||"Unknown"),1)]),_:2},1024)]),i("td",gt,[t(S,null,{activator:e(({props:f})=>[t(c,j({icon:"mdi-dots-vertical",variant:"text",size:"small"},{ref_for:!0},f),null,16)]),default:e(()=>[t(_,{size:"small"},{default:e(()=>[t(k,{onClick:f=>u(C).get(m.route("crm.deals.show",s.id)),"prepend-icon":"mdi-eye"},{default:e(()=>[t(A,null,{default:e(()=>[...l[21]||(l[21]=[n("View Details",-1)])]),_:1})]),_:1},8,["onClick"]),t(k,{onClick:f=>u(C).get(m.route("crm.deals.edit",s.id)),"prepend-icon":"mdi-pencil"},{default:e(()=>[t(A,null,{default:e(()=>[...l[22]||(l[22]=[n("Edit",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1})):(o(),B(h,{key:1,class:"pa-8 text-center text-medium-emphasis"},{default:e(()=>[t(y,{size:"48",class:"mb-2"},{default:e(()=>[...l[24]||(l[24]=[n("mdi-handshake-outline",-1)])]),_:1}),l[26]||(l[26]=i("p",null,"No deals associated with this client.",-1)),t(u(x),{href:m.route("crm.deals.create",{client_id:a.client.id})},{default:e(()=>[t(c,{variant:"text",color:"primary","prepend-icon":"mdi-plus"},{default:e(()=>[...l[25]||(l[25]=[n("Create Deal",-1)])]),_:1})]),_:1},8,["href"])]),_:1}))]),_:1})]),_:1}),t(T,{value:"activities"},{default:e(()=>[t(v,{elevation:"0",border:""},{default:e(()=>[t(V,{title:"Activity Timeline"},{append:e(()=>[t(c,{color:"primary",size:"small",variant:"flat","prepend-icon":"mdi-plus",onClick:l[1]||(l[1]=s=>b.value=!0)},{default:e(()=>[...l[27]||(l[27]=[n(" Log Activity ",-1)])]),_:1})]),_:1}),t(g),t(h,{class:"pa-4"},{default:e(()=>[t(H,{activities:a.client.activities},null,8,["activities"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(F,{modelValue:b.value,"onUpdate:modelValue":l[5]||(l[5]=s=>b.value=s),"max-width":"600px"},{default:e(()=>[t(v,null,{default:e(()=>[t(q,{class:"pa-4 bg-primary text-white d-flex justify-space-between align-center"},{default:e(()=>[l[28]||(l[28]=i("span",null,"Log New Activity",-1)),t(c,{icon:"mdi-close",variant:"text",size:"small",onClick:l[3]||(l[3]=s=>b.value=!1)})]),_:1}),t(h,{class:"pa-4 pt-6"},{default:e(()=>[t(J,{"activityable-type":"App\\Models\\Client","activityable-id":a.client.id,onSuccess:l[4]||(l[4]=s=>b.value=!1)},null,8,["activityable-id"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})],64))}};export{Ct as default};
