import{o as c,M as I,b as t,u as h,T as S,a as e,k as x,m as d,h as n,N as T,f as o,U as m,R as s,i as j,n as u,ae as r,ab as N,al as B,Y as L,a2 as g,v as f,p,c as w,O as v,q as D,s as y,Z as V,ak as C,S as O}from"./app-CqcLQhWc.js";import{_ as z}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-SEMuvBU0.js";import"./LoaderWrapper-CNYIpUw8.js";import"./LogoMain.vue_vue_type_script_setup_true_lang-BnGuLdGC.js";import"./useApi-o-nPpLEi-7nyp_4n4.js";const M={class:"d-flex align-center text-caption text-medium-emphasis mb-2"},R={class:"d-flex justify-space-between align-center mb-6"},U={class:"text-h3 font-weight-bold"},_={class:"mb-6"},F={class:"text-h6"},q={class:"mb-6"},A={class:"text-body-1 white-space-pre-wrap pa-4 bg-grey-lighten-4 rounded",style:{"white-space":"pre-wrap"}},E={class:"pa-4 bg-grey-darken-4 text-white rounded text-caption overflow-x-auto"},J={class:"d-flex align-center gap-3"},P={class:"text-subtitle-2 font-weight-bold"},Y={class:"text-body-2"},Q={__name:"Show",props:{communication:Object},setup(i){const k=l=>{switch(l){case"email":return"mdi-email-outline";case"sms":return"mdi-message-text-outline";case"whatsapp":return"mdi-whatsapp";case"call":return"mdi-phone-outline";default:return"mdi-information-outline"}},b=l=>{switch(l){case"email":return"primary";case"sms":return"info";case"whatsapp":return"success";case"call":return"warning";default:return"grey"}};return(l,a)=>(c(),I(O,null,[t(h(S),{title:"Interaction: "+(i.communication.subject||i.communication.type)},null,8,["title"]),t(z,null,{default:e(()=>[t(x,null,{default:e(()=>[t(d,{cols:"12"},{default:e(()=>[n("div",M,[t(h(T),{href:l.route("crm.communications.index"),class:"text-decoration-none text-medium-emphasis"},{default:e(()=>[...a[0]||(a[0]=[o("Unified Inbox",-1)])]),_:1},8,["href"]),t(m,{size:"14",class:"mx-1"},{default:e(()=>[...a[1]||(a[1]=[o("mdi-chevron-right",-1)])]),_:1}),a[2]||(a[2]=n("span",{class:"text-high-emphasis"},"Interaction Details",-1))]),n("div",R,[n("h2",U,s(i.communication.subject||"Interaction Details"),1),t(j,{variant:"outlined",href:l.route("crm.communications.index"),"prepend-icon":"mdi-arrow-left"},{default:e(()=>[...a[3]||(a[3]=[o("Back to Inbox",-1)])]),_:1},8,["href"])])]),_:1}),t(d,{cols:"12",md:"8"},{default:e(()=>[t(u,{elevation:"0",border:"",class:"mb-6"},{default:e(()=>[t(r,null,{prepend:e(()=>[t(g,{color:b(i.communication.type)+"-lighten-5",size:"48"},{default:e(()=>[t(m,{color:b(i.communication.type)},{default:e(()=>[o(s(k(i.communication.type)),1)]),_:1},8,["color"])]),_:1},8,["color"])]),default:e(()=>[t(N,{class:"text-h5 font-weight-bold"},{default:e(()=>[o(s(i.communication.type.toUpperCase())+" Interaction",1)]),_:1}),t(B,null,{default:e(()=>[t(L,{size:"x-small",color:i.communication.direction==="inbound"?"info":"secondary",variant:"tonal",class:"mr-2"},{default:e(()=>[o(s(i.communication.direction.toUpperCase()),1)]),_:1},8,["color"]),o(" "+s(new Date(i.communication.created_at).toLocaleString()),1)]),_:1})]),_:1}),t(f),t(p,{class:"pa-6"},{default:e(()=>[n("div",_,[a[4]||(a[4]=n("div",{class:"text-subtitle-2 font-weight-bold text-medium-emphasis mb-1"},"Subject",-1)),n("div",F,s(i.communication.subject||"(No Subject)"),1)]),n("div",q,[a[5]||(a[5]=n("div",{class:"text-subtitle-2 font-weight-bold text-medium-emphasis mb-1"},"Message Content",-1)),n("div",A,s(i.communication.content),1)]),i.communication.metadata?(c(),w(x,{key:0},{default:e(()=>[t(d,{cols:"12"},{default:e(()=>[a[6]||(a[6]=n("div",{class:"text-subtitle-2 font-weight-bold text-medium-emphasis mb-1"},"Technical Metadata",-1)),n("pre",E,s(JSON.stringify(i.communication.metadata,null,2)),1)]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1})]),_:1}),t(d,{cols:"12",md:"4"},{default:e(()=>[t(u,{elevation:"0",border:"",class:"mb-6"},{default:e(()=>[t(r,{title:"Participants"}),t(f),t(D,null,{default:e(()=>[t(y,null,{prepend:e(()=>[t(m,{color:"medium-emphasis"},{default:e(()=>[...a[7]||(a[7]=[o("mdi-account-arrow-right",-1)])]),_:1})]),default:e(()=>[t(V,{class:"text-caption font-weight-bold"},{default:e(()=>[...a[8]||(a[8]=[o("FROM",-1)])]),_:1}),t(C,{class:"text-body-1 font-weight-bold text-high-emphasis"},{default:e(()=>[o(s(i.communication.from_identifier),1)]),_:1})]),_:1}),t(y,null,{prepend:e(()=>[t(m,{color:"medium-emphasis"},{default:e(()=>[...a[9]||(a[9]=[o("mdi-account-arrow-left",-1)])]),_:1})]),default:e(()=>[t(V,{class:"text-caption font-weight-bold"},{default:e(()=>[...a[10]||(a[10]=[o("TO",-1)])]),_:1}),t(C,{class:"text-body-1 font-weight-bold text-high-emphasis"},{default:e(()=>[o(s(i.communication.to_identifier),1)]),_:1})]),_:1})]),_:1})]),_:1}),i.communication.communicable?(c(),w(u,{key:0,elevation:"0",border:""},{default:e(()=>[t(r,{title:"Linked Record"}),t(f),t(p,{class:"pa-4"},{default:e(()=>[n("div",J,[t(g,{color:"primary",size:"40"},{default:e(()=>[t(m,{color:"white"},{default:e(()=>[...a[11]||(a[11]=[o("mdi-link-variant",-1)])]),_:1})]),_:1}),n("div",null,[n("div",P,s(i.communication.communicable_type.split("\\").pop()),1),n("div",Y,s(i.communication.communicable.first_name||i.communication.communicable.title||i.communication.communicable.name),1)])])]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1})]),_:1})],64))}};export{Q as default};
