import{o as r,M as f,b as e,u as h,T as z,a as t,l as I,k as C,m as p,n as k,p as b,h as o,i as x,R as i,Y as w,f as l,ab as v,v as y,U as d,am as B,O as P,c as V,q as S,S as D,W as E,s as u,Z as c,ak as m,a2 as O,N as $,a8 as R}from"./app-CqcLQhWc.js";import{_ as U}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-SEMuvBU0.js";import{_ as W}from"./LoaderWrapper-CNYIpUw8.js";import"./LogoMain.vue_vue_type_script_setup_true_lang-BnGuLdGC.js";import"./useApi-o-nPpLEi-7nyp_4n4.js";const _={class:"d-flex align-center"},q={class:"text-h4 mb-1"},F={class:"d-flex align-center gap-2"},M={class:"d-flex gap-2"},Y={class:"text-body-1 whitespace-pre-wrap"},Z={class:"d-flex align-center justify-space-between mb-4"},G={key:0,class:"mb-4"},H={class:"d-flex align-center gap-2"},J={class:"text-body-2 font-weight-bold"},K={key:2,class:"text-center py-4 text-caption text-medium-emphasis"},Q={key:1},X={__name:"Show",props:{task:Object,suggestions:Array},setup(a){const L=a,N=()=>{confirm("Are you sure you want to delete this task?")&&R.delete(route("crm.tasks.destroy",L.task.id))},j=n=>{switch(n){case"pending":return"warning";case"in_progress":return"info";case"completed":return"success";default:return"grey"}},T=n=>{switch(n){case"low":return"success";case"medium":return"warning";case"high":return"error";default:return"grey"}};return(n,s)=>(r(),f(D,null,[e(h(z),{title:a.task.title},null,8,["title"]),e(U,null,{default:t(()=>[e(I,{fluid:""},{default:t(()=>[e(C,{justify:"center"},{default:t(()=>[e(p,{cols:"12",md:"10"},{default:t(()=>[e(k,{elevation:"0",class:"mb-6"},{default:t(()=>[e(b,{class:"d-flex align-center justify-space-between py-4"},{default:t(()=>[o("div",_,[e(x,{icon:"mdi-arrow-left",variant:"text",class:"mr-2",onClick:s[0]||(s[0]=g=>n.$window.history.back())}),o("div",null,[o("h1",q,i(a.task.title),1),o("div",F,[e(w,{color:j(a.task.status),size:"small",label:"",class:"text-uppercase font-weight-bold"},{default:t(()=>[l(i(a.task.status.replace("_"," ")),1)]),_:1},8,["color"]),e(w,{color:T(a.task.priority),size:"small",variant:"outlined",class:"text-uppercase font-weight-bold"},{default:t(()=>[l(i(a.task.priority)+" Priority ",1)]),_:1},8,["color"])])])]),o("div",M,[e(x,{color:"primary","prepend-icon":"mdi-pencil",to:n.route("crm.tasks.edit",a.task.id)},{default:t(()=>[...s[1]||(s[1]=[l(" Edit Task ",-1)])]),_:1},8,["to"]),e(x,{color:"error",variant:"outlined","prepend-icon":"mdi-delete",onClick:N},{default:t(()=>[...s[2]||(s[2]=[l(" Delete ",-1)])]),_:1})])]),_:1})]),_:1}),e(C,null,{default:t(()=>[e(p,{cols:"12",md:"8"},{default:t(()=>[e(k,{elevation:"0",class:"mb-6"},{default:t(()=>[e(v,{class:"pa-4"},{default:t(()=>[...s[3]||(s[3]=[l("Description",-1)])]),_:1}),e(y),e(b,{class:"pa-4"},{default:t(()=>[o("p",Y,i(a.task.description||"No description provided."),1)]),_:1})]),_:1})]),_:1}),e(p,{cols:"12",md:"4"},{default:t(()=>[e(k,{elevation:"0",border:"",class:"mb-6 overflow-hidden"},{default:t(()=>[e(v,{class:"pa-4 bg-grey-lighten-4 d-flex align-center"},{default:t(()=>[e(d,{color:"primary",class:"mr-2"},{default:t(()=>[...s[4]||(s[4]=[l("mdi-brain",-1)])]),_:1}),s[5]||(s[5]=l(" Task Intelligence ",-1))]),_:1}),e(y),e(b,{class:"pa-4"},{default:t(()=>[o("div",Z,[s[6]||(s[6]=o("span",{class:"text-subtitle-2 font-weight-bold"},"Priority Score",-1)),e(w,{color:a.task.priority_score>70?"error":a.task.priority_score>40?"warning":"success",size:"small",class:"font-weight-bold"},{default:t(()=>[l(i(a.task.priority_score)+"/100 ",1)]),_:1},8,["color"])]),e(B,{"model-value":a.task.priority_score,color:a.task.priority_score>70?"error":a.task.priority_score>40?"warning":"success",height:"8",rounded:"",class:"mb-4"},null,8,["model-value","color"]),a.task.sla_minutes?(r(),f("div",G,[s[7]||(s[7]=o("div",{class:"text-caption text-medium-emphasis mb-1"},"SLA Deadline",-1)),o("div",H,[e(d,{size:"16",color:a.task.escalated_at?"error":"success"},{default:t(()=>[l(i(a.task.escalated_at?"mdi-alert-circle":"mdi-check-circle"),1)]),_:1},8,["color"]),o("span",J,i(a.task.escalated_at?"Escalated":"Within SLA"),1)])])):P("",!0),e(y,{class:"my-4"}),s[8]||(s[8]=o("div",{class:"text-subtitle-2 font-weight-bold mb-3"},"Suggested Next Actions",-1)),a.suggestions&&a.suggestions.length>0?(r(),V(S,{key:1,class:"pa-0"},{default:t(()=>[(r(!0),f(D,null,E(a.suggestions,(g,A)=>(r(),V(u,{key:A,class:"pa-2 border rounded mb-2 hover-bg",lines:"two"},{prepend:t(()=>[e(O,{color:"primary-lighten-5",size:"32"},{default:t(()=>[e(d,{color:"primary",size:"18"},{default:t(()=>[l(i(g.type==="escalate"?"mdi-trending-up":"mdi-phone"),1)]),_:2},1024)]),_:2},1024)]),default:t(()=>[e(c,{class:"text-body-2 font-weight-bold"},{default:t(()=>[l(i(g.label),1)]),_:2},1024),e(m,{class:"text-caption"},{default:t(()=>[l(i(g.description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(r(),f("div",K," No urgent suggestions at this time. "))]),_:1})]),_:1}),e(k,{elevation:"0",class:"mb-6"},{default:t(()=>[e(v,{class:"pa-4"},{default:t(()=>[...s[9]||(s[9]=[l("Details",-1)])]),_:1}),e(y),e(S,{class:"pa-0"},{default:t(()=>[e(u,null,{prepend:t(()=>[e(d,{color:"primary"},{default:t(()=>[...s[10]||(s[10]=[l("mdi-calendar",-1)])]),_:1})]),default:t(()=>[e(c,{class:"text-caption text-medium-emphasis"},{default:t(()=>[...s[11]||(s[11]=[l("Due Date",-1)])]),_:1}),e(m,{class:"text-body-2 font-weight-bold"},{default:t(()=>[l(i(a.task.due_date?new Date(a.task.due_date).toLocaleDateString():"No due date"),1)]),_:1})]),_:1}),e(u,null,{prepend:t(()=>[e(d,{color:"primary"},{default:t(()=>[...s[12]||(s[12]=[l("mdi-briefcase-outline",-1)])]),_:1})]),default:t(()=>[e(c,{class:"text-caption text-medium-emphasis"},{default:t(()=>[...s[13]||(s[13]=[l("Project",-1)])]),_:1}),e(m,{class:"text-body-2 font-weight-bold"},{default:t(()=>[a.task.project?(r(),V(h($),{key:0,href:n.route("crm.projects.show",a.task.project.id),class:"text-decoration-none text-primary"},{default:t(()=>[l(i(a.task.project.name),1)]),_:1},8,["href"])):(r(),f("span",Q,"None"))]),_:1})]),_:1}),e(u,null,{prepend:t(()=>[e(d,{color:"primary"},{default:t(()=>[...s[14]||(s[14]=[l("mdi-account-outline",-1)])]),_:1})]),default:t(()=>[e(c,{class:"text-caption text-medium-emphasis"},{default:t(()=>[...s[15]||(s[15]=[l("Assigned To",-1)])]),_:1}),e(m,{class:"text-body-2 font-weight-bold"},{default:t(()=>[l(i(a.task.assignee?a.task.assignee.name:"Unassigned"),1)]),_:1})]),_:1}),e(u,null,{prepend:t(()=>[e(d,{color:"primary"},{default:t(()=>[...s[16]||(s[16]=[l("mdi-account-key-outline",-1)])]),_:1})]),default:t(()=>[e(c,{class:"text-caption text-medium-emphasis"},{default:t(()=>[...s[17]||(s[17]=[l("Owner",-1)])]),_:1}),e(m,{class:"text-body-2 font-weight-bold"},{default:t(()=>[l(i(a.task.owner.name),1)]),_:1})]),_:1}),e(u,null,{prepend:t(()=>[e(d,{color:"primary"},{default:t(()=>[...s[18]||(s[18]=[l("mdi-clock-outline",-1)])]),_:1})]),default:t(()=>[e(c,{class:"text-caption text-medium-emphasis"},{default:t(()=>[...s[19]||(s[19]=[l("Created At",-1)])]),_:1}),e(m,{class:"text-body-2"},{default:t(()=>[l(i(new Date(a.task.created_at).toLocaleString()),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64))}},it=W(X,[["__scopeId","data-v-51263c3a"]]);export{it as default};
