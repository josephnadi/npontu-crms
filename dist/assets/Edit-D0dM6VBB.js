import{_ as x}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-SEMuvBU0.js";import{d as C,L as j,o as U,M as $,b as a,a as r,m as d,V as E,w as N,k as p,g as n,u as l,$ as V,a1 as A,h as u,v as b,i as g,f as i,aq as T,R as y,S as k,r as v,c as q,ax as B,ay as D}from"./app-CqcLQhWc.js";import{_ as F}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-Bl_MKtEy.js";import{_ as c}from"./UiParentCard.vue_vue_type_script_setup_true_lang-Drb8UaWj.js";import{_ as P}from"./LoaderWrapper-CNYIpUw8.js";import"./LogoMain.vue_vue_type_script_setup_true_lang-BnGuLdGC.js";import"./useApi-o-nPpLEi-7nyp_4n4.js";const O={class:"d-flex justify-end gap-2"},R={class:"text-caption text-medium-emphasis"},M=C({__name:"LeadEdit",props:{lead:{type:Object,required:!0},leadSources:{type:Array,default:()=>[]},users:{type:Array,default:()=>[]}},setup(m){const o=m,f=v("Edit Lead"),w=v([{title:"CRM",disabled:!1,href:"#"},{title:"Leads",disabled:!1,href:"/crm/leads"},{title:"Edit",disabled:!0,href:"#"}]),e=j({first_name:o.lead.first_name||"",last_name:o.lead.last_name||"",email:o.lead.email||"",phone:o.lead.phone||"",mobile:o.lead.mobile||"",company_name:o.lead.company_name||"",job_title:o.lead.job_title||"",lead_source_id:o.lead.lead_source_id,status:o.lead.status||"new",score:o.lead.score||0,address_line1:o.lead.address_line1||"",address_line2:o.lead.address_line2||"",city:o.lead.city||"",state:o.lead.state||"",postal_code:o.lead.postal_code||"",country:o.lead.country||"",notes:o.lead.notes||"",owner_id:o.lead.owner_id}),S=[{value:"new",title:"New"},{value:"contacted",title:"Contacted"},{value:"qualified",title:"Qualified"},{value:"converted",title:"Converted"},{value:"lost",title:"Lost"}],L=()=>{e.put(route("crm.leads.update",o.lead.id),{onSuccess:()=>{}})};return(_,s)=>(U(),$(k,null,[a(F,{title:f.value,breadcrumbs:w.value},null,8,["title","breadcrumbs"]),a(p,null,{default:r(()=>[a(d,{cols:"12",md:"8"},{default:r(()=>[a(c,{title:"Lead Details"},{default:r(()=>[a(E,{onSubmit:N(L,["prevent"])},{default:r(()=>[a(p,null,{default:r(()=>[a(d,{cols:"12",md:"6"},{default:r(()=>[a(n,{modelValue:l(e).first_name,"onUpdate:modelValue":s[0]||(s[0]=t=>l(e).first_name=t),label:"First Name",variant:"outlined","error-messages":l(e).errors.first_name,required:""},null,8,["modelValue","error-messages"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(n,{modelValue:l(e).last_name,"onUpdate:modelValue":s[1]||(s[1]=t=>l(e).last_name=t),label:"Last Name",variant:"outlined","error-messages":l(e).errors.last_name,required:""},null,8,["modelValue","error-messages"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(n,{modelValue:l(e).email,"onUpdate:modelValue":s[2]||(s[2]=t=>l(e).email=t),label:"Email",type:"email",variant:"outlined","error-messages":l(e).errors.email},null,8,["modelValue","error-messages"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(n,{modelValue:l(e).phone,"onUpdate:modelValue":s[3]||(s[3]=t=>l(e).phone=t),label:"Phone",variant:"outlined","error-messages":l(e).errors.phone},null,8,["modelValue","error-messages"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(n,{modelValue:l(e).company_name,"onUpdate:modelValue":s[4]||(s[4]=t=>l(e).company_name=t),label:"Company",variant:"outlined","error-messages":l(e).errors.company_name},null,8,["modelValue","error-messages"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(n,{modelValue:l(e).job_title,"onUpdate:modelValue":s[5]||(s[5]=t=>l(e).job_title=t),label:"Job Title",variant:"outlined","error-messages":l(e).errors.job_title},null,8,["modelValue","error-messages"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(V,{modelValue:l(e).lead_source_id,"onUpdate:modelValue":s[6]||(s[6]=t=>l(e).lead_source_id=t),items:m.leadSources,"item-title":"name","item-value":"id",label:"Source",variant:"outlined","error-messages":l(e).errors.lead_source_id},null,8,["modelValue","items","error-messages"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(V,{modelValue:l(e).status,"onUpdate:modelValue":s[7]||(s[7]=t=>l(e).status=t),items:S,label:"Status",variant:"outlined","error-messages":l(e).errors.status},null,8,["modelValue","error-messages"])]),_:1}),a(d,{cols:"12"},{default:r(()=>[a(A,{modelValue:l(e).notes,"onUpdate:modelValue":s[8]||(s[8]=t=>l(e).notes=t),label:"Notes",variant:"outlined",rows:"3","error-messages":l(e).errors.notes},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),s[20]||(s[20]=u("h3",{class:"text-subtitle-1 font-weight-bold my-4"},"Address Information",-1)),a(p,null,{default:r(()=>[a(d,{cols:"12"},{default:r(()=>[a(n,{modelValue:l(e).address_line1,"onUpdate:modelValue":s[9]||(s[9]=t=>l(e).address_line1=t),label:"Address Line 1",variant:"outlined","error-messages":l(e).errors.address_line1},null,8,["modelValue","error-messages"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(n,{modelValue:l(e).city,"onUpdate:modelValue":s[10]||(s[10]=t=>l(e).city=t),label:"City",variant:"outlined","error-messages":l(e).errors.city},null,8,["modelValue","error-messages"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(n,{modelValue:l(e).state,"onUpdate:modelValue":s[11]||(s[11]=t=>l(e).state=t),label:"State/Province",variant:"outlined","error-messages":l(e).errors.state},null,8,["modelValue","error-messages"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(n,{modelValue:l(e).country,"onUpdate:modelValue":s[12]||(s[12]=t=>l(e).country=t),label:"Country",variant:"outlined","error-messages":l(e).errors.country},null,8,["modelValue","error-messages"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(n,{modelValue:l(e).postal_code,"onUpdate:modelValue":s[13]||(s[13]=t=>l(e).postal_code=t),label:"Postal Code",variant:"outlined","error-messages":l(e).errors.postal_code},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),a(b,{class:"my-6"}),u("div",O,[a(g,{color:"secondary",variant:"outlined",onClick:s[14]||(s[14]=t=>_.$inertia.visit(_.route("crm.leads.index")))},{default:r(()=>[...s[18]||(s[18]=[i(" Cancel ",-1)])]),_:1}),a(g,{color:"primary",type:"submit",loading:l(e).processing},{default:r(()=>[...s[19]||(s[19]=[i(" Update Lead ",-1)])]),_:1},8,["loading"])])]),_:1})]),_:1})]),_:1}),a(d,{cols:"12",md:"4"},{default:r(()=>[a(c,{title:"Settings"},{default:r(()=>[a(V,{modelValue:l(e).owner_id,"onUpdate:modelValue":s[15]||(s[15]=t=>l(e).owner_id=t),items:m.users,"item-title":"name","item-value":"id",label:"Lead Owner",variant:"outlined","error-messages":l(e).errors.owner_id,hint:"The user responsible for this lead","persistent-hint":"",class:"mb-4"},null,8,["modelValue","items","error-messages"]),a(T,{modelValue:l(e).score,"onUpdate:modelValue":s[17]||(s[17]=t=>l(e).score=t),label:"Lead Score",min:"0",max:"100",step:"1","thumb-label":"",color:"primary",class:"mt-4"},{append:r(()=>[a(n,{modelValue:l(e).score,"onUpdate:modelValue":s[16]||(s[16]=t=>l(e).score=t),type:"number",style:{width:"70px"},density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue"])]),_:1},8,["modelValue"]),a(b,{class:"my-4"}),u("div",R,[i(" Created at: "+y(new Date(m.lead.created_at).toLocaleString()),1),s[21]||(s[21]=u("br",null,null,-1)),i(" Updated at: "+y(new Date(m.lead.updated_at).toLocaleString()),1)])]),_:1})]),_:1})]),_:1})],64))}}),I=P(M,[["__scopeId","data-v-918e77fe"]]),X={__name:"Edit",props:{lead:Object,leadSources:Array,users:Array},setup(m){return(o,f)=>(U(),q(x,null,{default:r(()=>[a(I,B(D(o.$props)),null,16)]),_:1}))}};export{X as default};
