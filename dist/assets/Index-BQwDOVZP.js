import{r as _,E as N,a7 as c,o,N as r,b as e,v as u,U as A,a as t,l as x,n as h,h as s,O as b,j as C,f as i,p as T,q as j,g as z,x as g,a4 as L,T as v,X as S,S as f,P as w,Z as $,a6 as B,s as E,t as y,$ as V,a8 as I,a9 as P}from"./app-CajJQkEm.js";import{_ as D}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-CUimra8q.js";import{l as O}from"./lodash-Dt38h8Cc.js";import"./LoaderWrapper-CM7phn5N.js";import"./LogoMain.vue_vue_type_script_setup_true_lang-CbPhcYUv.js";const U={key:0},F={key:0},M={key:1},q={class:"text-right"},R={key:0},X={class:"pa-4 d-flex justify-center"},W={__name:"Index",props:{clients:Object,filters:Object},setup(d){const m=_(d.filters.search);N(m,O.debounce(n=>{c.get(route("crm.clients.index"),{search:n},{preserveState:!0,replace:!0})},300));const k=n=>{confirm("Are you sure you want to delete this client?")&&c.delete(route("crm.clients.destroy",n))};return(n,l)=>(o(),r(v,null,[e(u(A),{title:"Clients"}),e(D,null,{default:t(()=>[e(x,null,{default:t(()=>[e(h,{cols:"12",class:"d-flex justify-space-between align-center mb-4"},{default:t(()=>[l[4]||(l[4]=s("div",null,[s("h2",{class:"text-h3 font-weight-bold"},"Clients"),s("p",{class:"text-subtitle-1 text-medium-emphasis"},"Manage your customer companies and organizations")],-1)),e(u(b),{href:n.route("crm.clients.create")},{default:t(()=>[e(C,{color:"primary","prepend-icon":"mdi-plus"},{default:t(()=>[...l[3]||(l[3]=[i("Add Client",-1)])]),_:1})]),_:1},8,["href"])]),_:1}),e(h,{cols:"12"},{default:t(()=>[e(T,{elevation:"0",border:""},{default:t(()=>[e(j,{class:"pa-4"},{default:t(()=>[e(x,null,{default:t(()=>[e(h,{cols:"12",md:"4"},{default:t(()=>[e(z,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=a=>m.value=a),"prepend-inner-icon":"mdi-magnify",label:"Search clients...",variant:"outlined",density:"comfortable","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(g),e(L,null,{default:t(()=>[l[9]||(l[9]=s("thead",null,[s("tr",null,[s("th",{class:"text-left font-weight-bold"},"Name"),s("th",{class:"text-left font-weight-bold"},"Industry"),s("th",{class:"text-left font-weight-bold"},"Location"),s("th",{class:"text-left font-weight-bold"},"Contacts"),s("th",{class:"text-left font-weight-bold"},"Phone"),s("th",{class:"text-right font-weight-bold"},"Actions")])],-1)),s("tbody",null,[(o(!0),r(v,null,S(d.clients.data,a=>(o(),r("tr",{key:a.id},[s("td",null,[e(u(b),{href:n.route("crm.clients.show",a.id),class:"text-decoration-none font-weight-bold text-primary"},{default:t(()=>[i(f(a.name),1)]),_:2},1032,["href"])]),s("td",null,f(a.industry||"N/A"),1),s("td",null,[a.city?(o(),r("span",U,[i(f(a.city),1),a.country?(o(),r("span",F,", "+f(a.country),1)):w("",!0)])):(o(),r("span",M,"N/A"))]),s("td",null,[e($,{size:"small",color:"info",variant:"flat"},{default:t(()=>[i(f(a.contacts_count)+" Contacts ",1)]),_:2},1024)]),s("td",null,f(a.phone||"N/A"),1),s("td",q,[e(B,null,{activator:t(({props:p})=>[e(C,I({icon:"mdi-dots-vertical",variant:"text",size:"small"},{ref_for:!0},p),null,16)]),default:t(()=>[e(E,{size:"small"},{default:t(()=>[e(y,{onClick:p=>u(c).get(n.route("crm.clients.show",a.id)),"prepend-icon":"mdi-eye"},{default:t(()=>[e(V,null,{default:t(()=>[...l[5]||(l[5]=[i("View",-1)])]),_:1})]),_:1},8,["onClick"]),e(y,{onClick:p=>u(c).get(n.route("crm.clients.edit",a.id)),"prepend-icon":"mdi-pencil"},{default:t(()=>[e(V,null,{default:t(()=>[...l[6]||(l[6]=[i("Edit",-1)])]),_:1})]),_:1},8,["onClick"]),e(g),e(y,{onClick:p=>k(a.id),"prepend-icon":"mdi-delete",color:"error"},{default:t(()=>[e(V,null,{default:t(()=>[...l[7]||(l[7]=[i("Delete",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)])]))),128)),d.clients.data.length===0?(o(),r("tr",R,[...l[8]||(l[8]=[s("td",{colspan:"6",class:"text-center py-8 text-medium-emphasis"},' No clients found. Click "Add Client" to get started. ',-1)])])):w("",!0)])]),_:1}),e(g),s("div",X,[e(P,{modelValue:d.clients.current_page,"onUpdate:modelValue":[l[1]||(l[1]=a=>d.clients.current_page=a),l[2]||(l[2]=a=>u(c).get(n.route("crm.clients.index"),{page:a,search:m.value},{preserveState:!0}))],length:d.clients.last_page,size:"small"},null,8,["modelValue","length"])])]),_:1})]),_:1})]),_:1})]),_:1})],64))}};export{W as default};
