import{o as d,N as c,b as t,v as u,U as S,a,l as j,n as w,h as l,O as p,j as f,W as r,f as i,S as n,Z as C,p as b,aa as h,x as V,q as y,c as k,P as z,a5 as B,ab as U,ac as A,ad as E,ae as N,a4 as M,T,X as O,a6 as P,s as W,t as I,a7 as L,$,a8 as _,af as q,ag as F,r as D}from"./app-CajJQkEm.js";import{_ as G}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-CUimra8q.js";import{A as H,_ as R}from"./ActivityForm-z_B-xygN.js";import"./LoaderWrapper-CM7phn5N.js";import"./LogoMain.vue_vue_type_script_setup_true_lang-CbPhcYUv.js";const X={class:"d-flex align-center"},Z={class:"text-h3 font-weight-bold"},J={class:"d-flex align-center text-subtitle-1 text-medium-emphasis"},K={class:"d-flex gap-2"},Q={class:"mb-4"},Y={class:"text-body-2 font-weight-bold"},tt={class:"mb-4"},et={class:"text-body-2 font-weight-bold"},at={class:"mb-4"},lt={class:"text-body-2"},st={key:1},it={class:"mb-4"},nt={class:"text-body-2"},ot={key:0},dt={key:0},ct={key:1},ut={key:1},rt={class:"mb-0"},mt={class:"d-flex align-center"},ft={class:"text-caption text-white"},vt={class:"text-body-2"},bt={class:"text-body-2",style:{"white-space":"pre-wrap"}},yt={class:"text-right"},ht={__name:"Show",props:{contact:Object},setup(s){const x=D("activities"),v=D(!1);return(m,e)=>(d(),c(T,null,[t(u(S),{title:"Contact Details - "+s.contact.first_name},null,8,["title"]),t(G,null,{default:a(()=>[t(j,null,{default:a(()=>[t(w,{cols:"12",class:"d-flex justify-space-between align-center mb-4"},{default:a(()=>[l("div",X,[t(u(p),{href:m.route("crm.contacts.index"),class:"mr-4"},{default:a(()=>[t(f,{icon:"",variant:"text"},{default:a(()=>[t(r,null,{default:a(()=>[...e[6]||(e[6]=[i("mdi-arrow-left",-1)])]),_:1})]),_:1})]),_:1},8,["href"]),l("div",null,[l("h2",Z,n(s.contact.first_name)+" "+n(s.contact.last_name),1),l("div",J,[t(C,{color:s.contact.status==="active"?"success":"grey",size:"small",variant:"flat",class:"text-capitalize mr-3"},{default:a(()=>[i(n(s.contact.status),1)]),_:1},8,["color"]),t(r,{size:"small",class:"mr-1"},{default:a(()=>[...e[7]||(e[7]=[i("mdi-briefcase-outline",-1)])]),_:1}),i(" "+n(s.contact.job_title||"No Title"),1)])])]),l("div",K,[t(u(p),{href:m.route("crm.contacts.edit",s.contact.id)},{default:a(()=>[t(f,{variant:"outlined",color:"primary","prepend-icon":"mdi-pencil"},{default:a(()=>[...e[8]||(e[8]=[i("Edit Contact",-1)])]),_:1})]),_:1},8,["href"])])]),_:1}),t(w,{cols:"12",md:"4"},{default:a(()=>[t(b,{elevation:"0",border:"",class:"mb-6"},{default:a(()=>[t(h,{title:"Contact Information"}),t(V),t(y,{class:"pa-4"},{default:a(()=>[l("div",Q,[e[10]||(e[10]=l("div",{class:"text-caption text-medium-emphasis mb-1"},"Email",-1)),l("div",Y,[t(r,{size:"small",color:"primary",class:"mr-2"},{default:a(()=>[...e[9]||(e[9]=[i("mdi-email-outline",-1)])]),_:1}),i(" "+n(s.contact.email||"N/A"),1)])]),l("div",tt,[e[12]||(e[12]=l("div",{class:"text-caption text-medium-emphasis mb-1"},"Phone",-1)),l("div",et,[t(r,{size:"small",color:"primary",class:"mr-2"},{default:a(()=>[...e[11]||(e[11]=[i("mdi-phone-outline",-1)])]),_:1}),i(" "+n(s.contact.phone||"N/A"),1)])]),l("div",at,[e[14]||(e[14]=l("div",{class:"text-caption text-medium-emphasis mb-1"},"Client / Company",-1)),l("div",lt,[t(r,{size:"small",color:"primary",class:"mr-2"},{default:a(()=>[...e[13]||(e[13]=[i("mdi-domain",-1)])]),_:1}),s.contact.client?(d(),k(u(p),{key:0,href:m.route("crm.clients.show",s.contact.client.id),class:"text-decoration-none font-weight-bold"},{default:a(()=>[i(n(s.contact.client.name),1)]),_:1},8,["href"])):(d(),c("span",st,"Individual"))])]),t(V,{class:"my-4"}),l("div",it,[e[16]||(e[16]=l("div",{class:"text-caption text-medium-emphasis mb-1"},"Location",-1)),l("div",nt,[t(r,{size:"small",color:"primary",class:"mr-2"},{default:a(()=>[...e[15]||(e[15]=[i("mdi-map-marker-outline",-1)])]),_:1}),s.contact.city?(d(),c("span",ot,[i(n(s.contact.city),1),s.contact.state?(d(),c("span",dt,", "+n(s.contact.state),1)):z("",!0),s.contact.country?(d(),c("span",ct,", "+n(s.contact.country),1)):z("",!0)])):(d(),c("span",ut,"N/A"))])]),l("div",rt,[e[17]||(e[17]=l("div",{class:"text-caption text-medium-emphasis mb-1"},"Owner",-1)),l("div",mt,[t(B,{size:"24",color:"primary",class:"mr-2"},{default:a(()=>[l("span",ft,n(s.contact.owner?.name.charAt(0)),1)]),_:1}),l("span",vt,n(s.contact.owner?.name),1)])])]),_:1})]),_:1}),t(b,{elevation:"0",border:""},{default:a(()=>[t(h,{title:"Internal Notes"}),t(V),t(y,{class:"pa-4"},{default:a(()=>[l("p",bt,n(s.contact.notes||"No notes available for this contact."),1)]),_:1})]),_:1})]),_:1}),t(w,{cols:"12",md:"8"},{default:a(()=>[t(U,{modelValue:x.value,"onUpdate:modelValue":e[0]||(e[0]=o=>x.value=o),color:"primary"},{default:a(()=>[t(A,{value:"activities"},{default:a(()=>[...e[18]||(e[18]=[i("Activities",-1)])]),_:1}),t(A,{value:"deals"},{default:a(()=>[i("Deals ("+n(s.contact.deals?.length||0)+")",1)]),_:1})]),_:1},8,["modelValue"]),t(E,{modelValue:x.value,"onUpdate:modelValue":e[2]||(e[2]=o=>x.value=o),class:"mt-4"},{default:a(()=>[t(N,{value:"activities"},{default:a(()=>[t(b,{elevation:"0",border:""},{default:a(()=>[t(h,{title:"Activity Timeline"},{append:a(()=>[t(f,{color:"primary",size:"small",variant:"flat","prepend-icon":"mdi-plus",onClick:e[1]||(e[1]=o=>v.value=!0)},{default:a(()=>[...e[19]||(e[19]=[i(" Log Activity ",-1)])]),_:1})]),_:1}),t(V),t(y,{class:"pa-4"},{default:a(()=>[t(H,{activities:s.contact.activities},null,8,["activities"])]),_:1})]),_:1})]),_:1}),t(N,{value:"deals"},{default:a(()=>[t(b,{elevation:"0",border:""},{default:a(()=>[s.contact.deals?.length>0?(d(),k(M,{key:0},{default:a(()=>[e[22]||(e[22]=l("thead",null,[l("tr",null,[l("th",{class:"text-left font-weight-bold"},"Title"),l("th",{class:"text-left font-weight-bold"},"Value"),l("th",{class:"text-left font-weight-bold"},"Stage"),l("th",{class:"text-right font-weight-bold"},"Action")])],-1)),l("tbody",null,[(d(!0),c(T,null,O(s.contact.deals,o=>(d(),c("tr",{key:o.id},[l("td",null,n(o.title),1),l("td",null,"GHâ‚µ "+n(o.value.toLocaleString()),1),l("td",null,[t(C,{size:"x-small",color:"primary",variant:"tonal"},{default:a(()=>[i(n(o.stage?.name||"Unknown"),1)]),_:2},1024)]),l("td",yt,[t(P,null,{activator:a(({props:g})=>[t(f,_({icon:"mdi-dots-vertical",variant:"text",size:"small"},{ref_for:!0},g),null,16)]),default:a(()=>[t(W,{size:"small"},{default:a(()=>[t(I,{onClick:g=>u(L).get(m.route("crm.deals.show",o.id)),"prepend-icon":"mdi-eye"},{default:a(()=>[t($,null,{default:a(()=>[...e[20]||(e[20]=[i("View Details",-1)])]),_:1})]),_:1},8,["onClick"]),t(I,{onClick:g=>u(L).get(m.route("crm.deals.edit",o.id)),"prepend-icon":"mdi-pencil"},{default:a(()=>[t($,null,{default:a(()=>[...e[21]||(e[21]=[i("Edit",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1})):(d(),k(y,{key:1,class:"pa-8 text-center text-medium-emphasis"},{default:a(()=>[t(r,{size:"48",class:"mb-2"},{default:a(()=>[...e[23]||(e[23]=[i("mdi-handshake-outline",-1)])]),_:1}),e[25]||(e[25]=l("p",null,"No deals associated with this contact.",-1)),t(u(p),{href:m.route("crm.deals.create",{contact_id:s.contact.id})},{default:a(()=>[t(f,{variant:"text",color:"primary","prepend-icon":"mdi-plus"},{default:a(()=>[...e[24]||(e[24]=[i("Create Deal",-1)])]),_:1})]),_:1},8,["href"])]),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(q,{modelValue:v.value,"onUpdate:modelValue":e[5]||(e[5]=o=>v.value=o),"max-width":"600px"},{default:a(()=>[t(b,null,{default:a(()=>[t(F,{class:"pa-4 bg-primary text-white d-flex justify-space-between align-center"},{default:a(()=>[e[26]||(e[26]=l("span",null,"Log New Activity",-1)),t(f,{icon:"mdi-close",variant:"text",size:"small",onClick:e[3]||(e[3]=o=>v.value=!1)})]),_:1}),t(y,{class:"pa-4 pt-6"},{default:a(()=>[t(R,{"activityable-type":"App\\Models\\Contact","activityable-id":s.contact.id,onSuccess:e[4]||(e[4]=o=>v.value=!1)},null,8,["activityable-id"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})],64))}};export{ht as default};
